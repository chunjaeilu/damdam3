<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://port-0-damdamv2-4fuvwk25lcstd4fc.gksl2.cloudtype.app/"
    />
    <meta property="og:title" content="담담" />
    <meta property="og:image" content="https://i.ibb.co/qCCd1X7/Frame-2.png" />
    <meta property="og:description" content="금연 웹앱" />
    <meta property="og:site_name" content="DamDam" />
    <meta property="og:locale" content="Kor" />
    <meta name="keywords" content="금연, 웹앱" />
    <meta name="author" content="이름" />
    <meta name="description" content="DamDam 홈페이지입니다." />
    <link rel="icon" href="/images/favicon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#1fab89" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#1fab89" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

    <title>MyInfo</title>
    <link rel="stylesheet" href="/css/userinfo.css" />
    <link rel="stylesheet" href="/css/black.css" />
    <link rel="stylesheet" href="/css/lang.css" />
  </head>
  <body id="userinfo" class="<%= modeArr[0].mode %>">
    <div class="container <%= langArr[0].lang[0].kor %>">
      <div class="title">
        <a href="/main" class="backbutton">
          <img src="/images/achieve_1.png" alt="뒤로가기" />
        </a>
        <h1 class="userinfo-title-main">내 정보</h1>
      </div>
      <form action="/delete" method="post" enctype="multipart/form-data">
        <div class="inputbox-name">
          <input
            class="imgUp"
            type="file"
            accept="image/*"
            multiple
            style="display: none"
            name="img"
            onchange="readURL(this)"
          />
          <img class="userImg" src="/images/mdi_user.png" alt="기본사진" />
          <input
            type="text"
            value="<%= userArr[0].userName %>"
            name="userName"
            placeholder="name"
            class="userName"
          />
        </div>
        <div class="inputbox-BrithDay">
          <h3>생년월일</h3>
          <div class="content-box">
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="2023"
              maxlength="4"
              value="<%= userArr[0].BrithDayYear %>"
              name="BrithDayYear"
              class="w100px"
            />

            <p>년</p>
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="12"
              maxlength="2"
              value="<%= userArr[0].BrithDayMonth %>"
              name="BrithDayMonth"
              class="w50px"
            />
            <p>월</p>
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="31"
              maxlength="2"
              value="<%= userArr[0].BrithDayDay %>"
              name="BrithDayDay"
              class="w50px"
            />
            <p>일</p>
          </div>
        </div>
        <!-- inputbox-BrithDay -->
        <div class="inputbox-Price">
          <h3>담배 가격</h3>
          <div class="content-box">
            <input
              type="text"
              name="Price"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              value="<%= userArr[0].Price%>"
            />
            <p>원</p>
          </div>
          <!-- content-box -->
        </div>
        <!-- inputbox-Price -->
        <div class="inputbox-CountPerDay">
          <h3>하루 흡연량</h3>
          <div class="content-box">
            <input
              type="text"
              name="CountPerDay"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].CountPerDay%>"
            />
            <p>개피</p>
          </div>
        </div>
        <!-- inputbox-CountPerDay -->
        <div class="inputbox-Start">
          <h3>흡연 시작일</h3>
          <div class="content-box">
            <input
              type="text"
              name="StartYear"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="4"
              value="<%= userArr[0].StartYear%>"
            />
            <p>년</p>
            <input
              type="text"
              name="StartMonth"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartMonth%>"
            />
            <p>월</p>
            <input
              type="text"
              name="StartDay"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartDay%>"
            />
            <p>일</p>
            <input
              type="text"
              name="StartHour"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartHour%>"
            />
            <p>시</p>
            <input
              type="text"
              name="StartMinute"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartMinute%>"
            />
            <p>분</p>
          </div>
        </div>
        <!-- inputbox-Start -->
        <div class="inputbox-end">
          <h3>금연 시작일</h3>
          <div class="content-box">
            <input
              type="text"
              name="EndYear"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="4"
              value="<%= userArr[0].EndYear%>"
            />
            <p>년</p>
            <input
              type="text"
              name="EndMonth"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndMonth%>"
            />
            <p>월</p>
            <input
              type="text"
              name="EndDay"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndDay%>"
            />
            <p>일</p>
            <input
              type="text"
              name="EndHour"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndHour%>"
            />
            <p>시</p>
            <input
              type="text"
              name="EndMinute"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndMinute%>"
            />
            <p>분</p>
          </div>
        </div>
        <!-- inputbox-end -->
        <button class="input-userinfo-button" type="submit" name="delete">
          수정
        </button>
      </form>
      <footer>
        <div class="home">
          <a href="/main"><i class="fa-solid fa-house"></i></a>
        </div>
        <div class="achievement">
          <a href="/achievement"><i class="fa-solid fa-trophy"></i></a>
        </div>
        <div class="community">
          <a href="/community"><i class="fa-solid fa-user-group"></i></a>
        </div>
        <div class="calendar">
          <a href="/calendar"><i class="fa-solid fa-calendar-days"></i></a>
        </div>
      </footer>
    </div>
    <div class="container <%= langArr[0].lang[1].en %>">
      <div class="title">
        <a href="/main" class="backbutton">
          <img src="/images/achieve_1.png" alt="뒤로가기" />
        </a>
        <h1 class="userinfo-title-main">My Information</h1>
      </div>
      <form action="/delete" method="post" enctype="multipart/form-data">
        <div class="inputbox-name">
          <input
            class="imgUp"
            type="file"
            accept="image/*"
            multiple
            style="display: none"
            name="img"
            onchange="readURL(this)"
          />
          <img class="userImg" src="/images/mdi_user.png" alt="기본사진" />
          <input
            type="text"
            value="<%= userArr[0].userName %>"
            name="userName"
            placeholder="name"
            class="userName"
          />
        </div>
        <div class="inputbox-BrithDay">
          <h3>date of birth</h3>
          <div class="content-box">
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="2023"
              maxlength="4"
              value="<%= userArr[0].BrithDayYear %>"
              name="BrithDayYear"
              class="w100px"
            />

            <p>Y</p>
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="12"
              maxlength="2"
              value="<%= userArr[0].BrithDayMonth %>"
              name="BrithDayMonth"
              class="w50px"
            />
            <p>M</p>
            <input
              type="text"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              max="31"
              maxlength="2"
              value="<%= userArr[0].BrithDayDay %>"
              name="BrithDayDay"
              class="w50px"
            />
            <p>D</p>
          </div>
        </div>
        <!-- inputbox-BrithDay -->
        <div class="inputbox-Price">
          <h3>cigarette Price</h3>
          <div class="content-box">
            <input
              type="text"
              name="Price"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              value="<%= userArr[0].Price%>"
            />
            <p>&#8361;</p>
          </div>
          <!-- content-box -->
        </div>
        <!-- inputbox-Price -->
        <div class="inputbox-CountPerDay">
          <h3>the amount of smoking per day</h3>
          <div class="content-box">
            <input
              type="text"
              name="CountPerDay"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].CountPerDay%>"
            />
            <p>ea</p>
          </div>
        </div>
        <!-- inputbox-CountPerDay -->
        <div class="inputbox-Start">
          <h3>smoking start date</h3>
          <div class="content-box">
            <input
              type="text"
              name="StartYear"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="4"
              value="<%= userArr[0].StartYear%>"
            />
            <p>Y</p>
            <input
              type="text"
              name="StartMonth"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartMonth%>"
            />
            <p>M</p>
            <input
              type="text"
              name="StartDay"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartDay%>"
            />
            <p>D</p>
            <input
              type="text"
              name="StartHour"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartHour%>"
            />
            <p>H</p>
            <input
              type="text"
              name="StartMinute"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].StartMinute%>"
            />
            <p>M</p>
          </div>
        </div>
        <!-- inputbox-Start -->
        <div class="inputbox-end">
          <h3>the start date of quitting smoking</h3>
          <div class="content-box">
            <input
              type="text"
              name="EndYear"
              class="w100px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="4"
              value="<%= userArr[0].EndYear%>"
            />
            <p>Y</p>
            <input
              type="text"
              name="EndMonth"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndMonth%>"
            />
            <p>M</p>
            <input
              type="text"
              name="EndDay"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndDay%>"
            />
            <p>D</p>
            <input
              type="text"
              name="EndHour"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndHour%>"
            />
            <p>H</p>
            <input
              type="text"
              name="EndMinute"
              class="w50px"
              oninput="this.value = this.value.replace(/[^0-9.]/g,'').replace(/(\..*)\./g,'$1')"
              maxlength="2"
              value="<%= userArr[0].EndMinute%>"
            />
            <p>M</p>
          </div>
        </div>
        <!-- inputbox-end -->
        <button class="input-userinfo-button" type="submit" name="delete">
          Modify
        </button>
      </form>
      <footer>
        <div class="home">
          <a href="/main"><i class="fa-solid fa-house"></i></a>
        </div>
        <div class="achievement">
          <a href="/achievement"><i class="fa-solid fa-trophy"></i></a>
        </div>
        <div class="community">
          <a href="/community"><i class="fa-solid fa-user-group"></i></a>
        </div>
        <div class="calendar">
          <a href="/calendar"><i class="fa-solid fa-calendar-days"></i></a>
        </div>
      </footer>
    </div>

    <!-- container -->
    <!-- fontA -->
    <script
      src="https://kit.fontawesome.com/67eff22c15.js"
      crossorigin="anonymous"
    ></script>
    <script>
      const upload = document.querySelector(".userImg");
      const realUpload = document.querySelector(".imgUp");
      upload.addEventListener("click", () => realUpload.click());

      function readURL(input) {
        if (input.files && input.files[0]) {
          var reader = new FileReader();
          console.log(reader);
          reader.onload = function (e) {
            upload.src = e.target.result;
          };

          reader.readAsDataURL(input.files[0]);
          console.log(input.files[0]);
        } else {
          upload.src = "/images/mdi_user.png";
          console.log("123");
        }
      }
      let src = "<%= userArr[0].img %>";
      if (src) {
        upload.setAttribute("src", `/images/${src}`);
      } else {
        upload.setAttribute("src", "/images/mdi_user.png");
      }
    </script>
  </body>
</html>
